@page
@model SalonDeBelleza.src.views.Usuarios.RegisterModel

<h2>Registro</h2>

<form method="post" asp-validation-summary="ModelOnly">
    @Html.AntiForgeryToken() <!-- Asegúrate de incluir esto -->

    <div>
        <label>Nombre</label>
        <input asp-for="Usuario.Nombre" required />
        <span asp-validation-for="Usuario.Nombre" class="text-danger"></span>
    </div>
    <div>
        <label>Telefono</label>
        <input asp-for="Usuario.Telefono" required />
        <span asp-validation-for="Usuario.Telefono" class="text-danger"></span>
    </div>
    <div>
        <label>Email (opcional)</label>
        <input asp-for="Usuario.Email" />
        <span asp-validation-for="Usuario.Email" class="text-danger"></span>
    </div>
    <div>
        <label>Password</label>
        <input asp-for="Password" type="password" required />
        <span asp-validation-for="Password" class="text-danger"></span>
    </div>
    <button type="submit">Registrar</button>
</form>

@if (!ViewData.ModelState.IsValid)
{
    <div>
        <h4>Errores:</h4>
        <ul>
            @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <li>@error.ErrorMessage</li>
            }
        </ul>
    </div>
}

<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.6.0.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.19.3/jquery.validate.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery.validate.unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>